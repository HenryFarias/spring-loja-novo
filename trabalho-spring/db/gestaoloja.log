/*C21*/SET SCHEMA PUBLIC
drop table comentarios if exists
drop table produto if exists
drop table role if exists
drop table user if exists
drop table user_role if exists
create table produto (id bigint generated by default as identity (start with 1), descricao varchar(255) not null, image_path varchar(255) not null, nome varchar(255) not null, primary key (id))
create table role (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table user (id bigint generated by default as identity (start with 1), name varchar(255), password varchar(255), username varchar(255), primary key (id))
create table user_role (user_id bigint not null, role_id bigint not null, primary key (user_id, role_id))
alter table user_role add constraint FKa68196081fvovjhkek5m97n3y foreign key (role_id) references role
alter table user_role add constraint FK859n2jvi8ivhui0rl0esws6o foreign key (user_id) references user
INSERT INTO USER VALUES(1,'user1','user1','user1')
COMMIT
INSERT INTO ROLE VALUES(1,'ROLE_ADMIN')
COMMIT
INSERT INTO ROLE VALUES(2,'ROLE_USER')
COMMIT
INSERT INTO USER_ROLE VALUES(1,1)
COMMIT
INSERT INTO PRODUTO VALUES(1,'teste produto','Penguins.jpg','teste produto')
COMMIT
