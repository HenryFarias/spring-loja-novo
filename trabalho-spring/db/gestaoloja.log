/*C12*/SET SCHEMA PUBLIC
alter table comentarios drop constraint FK5w7w5sw1xhlbx82oenkforufe
alter table comentarios drop constraint FKsnpvuvplq8jfqf6jk50c5777i
alter table user_role drop constraint FKa68196081fvovjhkek5m97n3y
alter table user_role drop constraint FK859n2jvi8ivhui0rl0esws6o
drop table comentarios if exists
drop table produto if exists
drop table role if exists
drop table user if exists
drop table user_role if exists
create table comentarios (id bigint generated by default as identity (start with 1), comentario varchar(255) not null, gostei boolean not null, produto_id bigint not null, user_id bigint not null, primary key (id))
create table produto (id bigint generated by default as identity (start with 1), descricao varchar(255) not null, image_path varchar(255) not null, nome varchar(255) not null, primary key (id))
create table role (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table user (id bigint generated by default as identity (start with 1), name varchar(255), password varchar(255), username varchar(255), primary key (id))
create table user_role (user_id bigint not null, role_id bigint not null, primary key (user_id, role_id))
alter table comentarios add constraint FK5w7w5sw1xhlbx82oenkforufe foreign key (produto_id) references produto
alter table comentarios add constraint FKsnpvuvplq8jfqf6jk50c5777i foreign key (user_id) references user
alter table user_role add constraint FKa68196081fvovjhkek5m97n3y foreign key (role_id) references role
alter table user_role add constraint FK859n2jvi8ivhui0rl0esws6o foreign key (user_id) references user
INSERT INTO USER VALUES(1,'user1','user1','user1')
COMMIT
INSERT INTO ROLE VALUES(1,'ROLE_ADMIN')
COMMIT
INSERT INTO ROLE VALUES(2,'ROLE_USER')
COMMIT
INSERT INTO USER_ROLE VALUES(1,1)
COMMIT
INSERT INTO PRODUTO VALUES(1,'teste produto','Hydrangeas.jpg','teste produto')
COMMIT
INSERT INTO COMENTARIOS VALUES(1,'ssadsda',TRUE,1,1)
COMMIT
INSERT INTO COMENTARIOS VALUES(2,'sdadassad',FALSE,1,1)
COMMIT
